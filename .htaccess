# Configuration Apache pour l'hébergement cloud
# Active le module de réécriture d'URL si nécessaire

<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    
    # Rediriger vers HTTPS si disponible (recommandé pour la production)
    # RewriteCond %{HTTPS} off
    # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
    
    # Empêcher l'accès direct aux fichiers sensibles
    <FilesMatch "\.(env|log|ini|bak)$">
        Order allow,deny
        Deny from all
    </FilesMatch>
</IfModule>

# Configuration PHP (si autorisé par l'hébergeur)
<IfModule mod_php7.c>
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value max_execution_time 300
    php_value memory_limit 128M
</IfModule>

# Protection des fichiers sensibles
<Files .env>
    Order allow,deny
    Deny from all
</Files>

# Configuration des en-têtes de sécurité
<IfModule mod_headers.c>
    Header set X-Content-Type-Options "nosniff"
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
</IfModule>

# Compression GZIP (si mod_deflate est disponible)
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript
</IfModule>

